(self.webpackChunkcard_generator_website=self.webpackChunkcard_generator_website||[]).push([[955],{3955:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(6540),l=n(2223),r=n(3069),i=n(4433),s=n(9749),d=n(4848);const o=n(7965);var c=e=>{let{className:t,template:n,templateParameters:a}=e;if(!n)return(0,d.jsx)("div",{className:[t,"card"].join(" ")});const l=o.render(n,a);return(0,d.jsx)("div",{className:[t,"card"].join(" "),dangerouslySetInnerHTML:{__html:l}})},m=n(413),u=e=>{let{template:t,templateParameters:n,onParametersChange:a}=e;const l=(e=>[...e.matchAll(/{{\s*&?([^}\s]+)\s*}}/g)].map((e=>e[1])))(t);return(0,d.jsx)("div",{id:"template-form",className:"flex flex-col gap-7 pt-3",children:l.map((e=>(0,d.jsxs)("span",{className:"p-float-label",children:[(0,d.jsx)(m.S,{className:"w-full",id:e,value:n[e]||"",onChange:t=>a({...n,[e]:t.target.value})}),(0,d.jsx)("label",{htmlFor:e,children:e})]},"template-form-"+e)))})},p=e=>{let{cards:t}=e;return(0,d.jsx)("div",{children:t.map(((e,t)=>(0,d.jsx)(c,{template:e.template,templateParameters:e.templateParameters},"card-"+t)))})};const g={label:"Custom Template",name:"custom_template",defaultValues:{}};var v=[{label:"Basic Template",name:"basic-template.html",defaultValues:{}},{label:"Basic Template 2",name:"basic-template-2.html",defaultValues:{}},{label:"D&D Spell Card",name:"dnd_spell_card_template.html",defaultValues:{Image_Source:"https://th.bing.com/th/id/OIG1.0LHNGA6aZmQso9rp9UVy?pid=ImgGn",Description_Scale:1,Title:"Mage Armor",Level:"1st",Casting_Time:"1 Action",Range:"Touch",Duration:"8 Hours",Components:"V, S, M*",School:"Abjuration",Save:"None",Description:"You touch a willing creature who isn't wearing armor, and a protective magical force surrounds it until the spell ends. The target's base AC becomes 13 + its Dexterity modifier. The spell ends if the target dons armor or if you dismiss the spell as an action."}}],f=n(9119),h=n(8554),x=n(7711),b=e=>{let{advancedMode:t,cards:n,setCards:l,template:r,templateParameters:i}=e;const s=(0,a.useRef)(null);return(0,d.jsxs)("div",{className:"flex flex-row flex-wrap gap-2 justify-center",children:[t&&(0,d.jsx)(h.e,{ref:s,auto:!0,customUpload:!0,mode:"basic",accept:".csv",chooseLabel:"Upload Data",uploadHandler:async e=>{const t=(await(async e=>{const t=[],n=(0,x.qg)({columns:!0});return n.on("readable",(function(){let e;for(;null!==(e=n.read());)t.push(e)})),n.on("error",(function(e){console.error(e.message)})),n.write(await e.text()),t})(e.files[0])).map((e=>({template:r,templateParameters:e})));l((e=>[...e,...t])),s.current.clear()}}),(0,d.jsx)(f.$,{label:"Clear Prints",onClick:()=>l([])}),(0,d.jsx)(f.$,{label:"Add To Print",onClick:()=>l((e=>[...e,{template:r,templateParameters:i}])),disabled:!r}),(0,d.jsx)(f.$,{label:"Print",onClick:()=>window.print(),disabled:0===n.length})]})},w=e=>{let{className:t}=e;const[o,m]=(0,a.useState)(!1),[f,h]=(0,a.useState)(null),[x,w]=(0,a.useState)(null),[y,k]=(0,a.useState)({}),[j,C]=(0,a.useState)([]),_=(0,a.useMemo)((()=>f===g.name),[f]);return(0,a.useEffect)((()=>{var e;f&&w(_?"":(e=f,n(3154)("./"+e).default))}),[f]),(0,a.useEffect)((()=>{if(!f)return;const e=v.find((e=>e.name===f));k(e?e.defaultValues:{})}),[x]),(0,d.jsxs)("div",{className:t+" flex flex-col w-full",children:[(0,d.jsxs)("div",{className:"flex flex-row justify-center",children:[(0,d.jsxs)("div",{className:"no-print flex flex-col gap-4 w-full",children:[(0,d.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,d.jsx)(i.H,{checked:o,onChange:e=>m(e.value)}),"Advanced Mode"]}),(0,d.jsx)(l.m,{value:f,onChange:e=>h(e.value),options:o?[g,...v]:v,optionLabel:"label",optionValue:"name",placeholder:"Select Template"}),o&&_&&(0,d.jsxs)("span",{className:"p-float-label",children:[(0,d.jsx)(s.Z,{id:"custom-template-text-field",className:"w-full",autoResize:!0,value:x,onChange:e=>w(e.target.value),rows:5}),(0,d.jsx)("label",{htmlFor:"custom-template-text-field",children:"Template"})]}),x&&(0,d.jsx)(u,{template:x,templateParameters:y,onParametersChange:e=>k(e)}),(0,d.jsx)(b,{advancedMode:o,cards:j,setCards:C,template:x,templateParameters:y})]}),(0,d.jsx)(r.c,{className:"no-print",layout:"vertical"}),(0,d.jsx)(c,{className:"no-print w-full self-center",template:x,templateParameters:y})]}),(0,d.jsx)(r.c,{className:"no-print"}),(0,d.jsx)(p,{cards:j})]})}},7461:function(e,t,n){"use strict";n.r(t),t.default='<div style="background-color:rgb(216, 75, 185);width: 6.4cm; height: 8.9cm; text-align: center;border-radius: 3mm">\n    <div>{{Title}}</div>\n    <div>{{Description}}</div>\n    <div>{{Description_2}}</div>\n</div>'},8902:function(e,t,n){"use strict";n.r(t),t.default='<div style="background-color:powderblue;width: 6.4cm; height: 8.9cm; text-align: center;border-radius: 3mm">\n    <div>{{Title}}</div>\n    <div>{{Description}}</div>\n</div>'},8676:function(e,t,n){"use strict";n.r(t),t.default='<div style="\nwidth: 6.8cm;\nheight: 9.3cm;\n\nbackground-color: black;\n\noutline-style: dashed;\noutline-color: gray;\noutline-width: thin;\n\npadding: 2mm;\n\nfont-size: 12px;">\n    <div style="\n    width: 100%;\n    height: 100%;\n\n    color: white;\n    text-align: center;\n\n    background-image: url(\'{{&Image_Source}}\');\n    background-position-y: -1cm;\n    background-position-x: center;\n    background-size: 6.4cm 6.4cm;\n    background-repeat: no-repeat;\n\n    border-radius: 3mm;\n\n    display: grid;\n    grid-template-rows: [row1-start] 1.5em [row1-end] 3.8cm [third-line] auto [fourth-line] 0.5em [last-line]">\n        <div style="\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n\n        grid-row-start: 1;">\n            <div style="\n            padding: 0.25em;\n            background-color: black;\n            border-radius: 1mm;\n            z-index: 1;">{{Title}}</div>\n            <div style="\n            padding: 0.25em;\n            background-color: black;\n            border-radius: 1mm;\n            z-index: 1;">{{Level}}</div>\n        </div>\n        <div style="\n        grid-row-start: 3;\n        overflow: hidden;\n        display: flex;\n        flex-direction: column;\n        align-items: center;">\n            <div style="\n            width: 100%;\n            display: grid;\n            grid-template-columns: 50% 50%;">\n                <div style="\n                padding: 0.1em;\n                background-color: black;\n                z-index: 1;\n                text-align: start;">{{Casting_Time}}</div>\n                <div style="\n                padding: 0.1em;\n                background-color: black;\n                z-index: 1;\n                text-align: end;">{{Range}}</div>\n                <div style="\n                padding: 0.1em;\n                background-color: black;\n                z-index: 1;\n                text-align: start;">{{Duration}}</div>\n                <div style="\n                padding: 0.1em;\n                background-color: black;\n                z-index: 1;\n                text-align: end;">{{Components}}</div>\n                <div style="\n                padding: 0.1em;\n                background-color: black;\n                z-index: 1;\n                text-align: start;">{{School}}</div>\n                <div style="\n                padding: 0.1em;\n                background-color: black;\n                z-index: 1;\n                text-align: end;">{{Save}}</div>\n            </div>\n            <div style="\n            width: 100%;\n            margin: auto;\n            border-radius: 1mm;\n            background-color: gray;\n            font-size: {{Description_Scale}}em;">{{Description}}</div>\n        </div>\n        <div style="\n        grid-row-start: 4;\n        font-size: 0.5em;">Â©2024 CAD of Cards</div>\n    </div>\n</div>'},3154:function(e,t,n){var a={"./basic-template-2.html":7461,"./basic-template.html":8902,"./dnd_spell_card_template.html":8676};function l(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=r,e.exports=l,l.id=3154}}]);