(self.webpackChunkcard_generator_website=self.webpackChunkcard_generator_website||[]).push([[142],{8142:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n(6540),i=n(2223),l=n(3069),s=n(9749),r=n(9119),o=n(7002),d=(0,a.createContext)(null),c=n(4848);const u=(0,o.f)((()=>n.e(242).then(n.bind(n,8242)))),m=n(7965);var p=e=>{let{className:t,id:n,template:i,templateParameters:l}=e;if(!i)return(0,c.jsx)("div",{className:[t,"card"].join(" ")});const[s,o]=(0,a.useContext)(d),[p,g]=(0,a.useState)(!1),f=(0,a.useRef)(null),h=m.render(i,l);return(0,a.useEffect)((()=>{f.current.querySelectorAll(".text-autosized-container").forEach((e=>{const t=e.querySelector(".text-autosized"),n=window.getComputedStyle(t).fontSize;((e,t,n)=>{let a=1,i=!1;for(;!i&&a<=n;)e.style.fontSize=`${a}px`,l=t.clientHeight,i=t.scrollHeight>l,i||a++;var l;e.style.fontSize=a-1+"px"})(t,e,Number(n.substring(0,n.length-2)))}))}),[i,l]),(0,c.jsxs)("div",{className:[t,"relative"].join(" "),onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[p&&n&&(0,c.jsx)(r.$,{size:"small",rounded:!0,severity:"danger",className:"no-print absolute top-1 right-1 h-4 w-4 z-50",style:{padding:"0rem",background:"rgb(220 38 38)",border:"rgb(220 38 38)"},onClick:()=>{o((e=>e.filter((e=>e.id!==n))))},children:(0,c.jsx)(u,{width:"1rem",height:"1rem",fill:"white"})}),(0,c.jsx)("div",{ref:f,className:[t,"card"].join(" "),dangerouslySetInnerHTML:{__html:h}})]})},g=n(413),f=e=>{let{template:t,templateParameters:n,onParametersChange:a}=e;const i=(e=>[...e.matchAll(/{{\s*&?([^}\s]+)\s*}}/g)].map((e=>e[1])))(t);return(0,c.jsx)("div",{id:"template-form",className:"flex flex-col gap-7 pt-3",children:i.map((e=>(0,c.jsxs)("span",{className:"p-float-label",children:[(0,c.jsx)(g.S,{className:"w-full",id:e,value:n[e]||"",onChange:t=>a({...n,[e]:t.target.value})}),(0,c.jsx)("label",{htmlFor:e,children:e})]},"template-form-"+e)))})},h=e=>{let{}=e;const[t,n]=(0,a.useContext)(d);return(0,c.jsx)("div",{className:"flex flex-wrap",children:t.map((e=>(0,c.jsx)(p,{id:e.id,template:e.template,templateParameters:e.templateParameters},e.id)))})};const x={label:"Custom Template",name:"custom_template",defaultValues:{}};var b=[{label:"Basic Template",name:"basic-template.html",defaultValues:{Image_Source:"https://th.bing.com/th/id/OIG1.D7RIkM1p994fC1T1qVE8?w=1024&h=1024&rs=1&pid=ImgDetMain",Title:"Soft Kitty",Description:"A soft kitty is a gentle and plush feline, often characterized by its fluffy fur and soothing purr."}},{label:"D&D Spell Card",name:"dnd_spell_card_template.html",defaultValues:{Image_Source:"https://th.bing.com/th/id/OIG1.0LHNGA6aZmQso9rp9UVy?pid=ImgGn",Title:"Mage Armor",Level:"1st",Casting_Time:"1 Action",Range:"Touch",Duration:"8 Hours",Components:"V, S, M*",School:"Abjuration",Save:"None",Description:"You touch a willing creature who isn't wearing armor, and a protective magical force surrounds it until the spell ends. The target's base AC becomes 13 + its Dexterity modifier. The spell ends if the target dons armor or if you dismiss the spell as an action."}}],v=n(8554),y=n(7711),w=e=>{let{template:t,templateParameters:n}=e;const[i,l]=(0,a.useContext)(d),s=(0,a.useRef)(null);return(0,c.jsxs)("div",{className:"flex flex-row flex-wrap gap-2 justify-center",children:[(0,c.jsx)(v.e,{ref:s,disabled:""===t,auto:!0,customUpload:!0,mode:"basic",accept:".csv",chooseLabel:"Upload Data",uploadHandler:async e=>{const n=await(async e=>{const t=[],n=(0,y.qg)({columns:!0});return n.on("readable",(function(){let e;for(;null!==(e=n.read());)t.push(e)})),n.on("error",(function(e){console.error(e.message)})),n.write(await e.text()),t})(e.files[0]),a=i.length,r=n.map(((e,n)=>({id:"card-"+(a+n),template:t,templateParameters:e})));l((e=>[...r,...e])),s.current.clear()},pt:{chooseIcon:{className:"hidden"}}}),(0,c.jsx)(r.$,{id:"clear-prints-button",label:"Clear Prints",onClick:()=>l([])}),(0,c.jsx)(r.$,{id:"add-to-print-button",label:"Add To Print",onClick:()=>l((e=>[{id:"card-"+e.length,template:t,templateParameters:n},...e])),disabled:!t}),(0,c.jsx)(r.$,{id:"print-button",label:"Print",onClick:()=>window.print(),disabled:0===i.length})]})},j=e=>{let{className:t}=e;const[r,o]=(0,a.useState)([]),[u,m]=(0,a.useState)(null),[g,v]=(0,a.useState)(null),[y,j]=(0,a.useState)({}),k=(0,a.useMemo)((()=>u===x.name),[u]);return(0,a.useEffect)((()=>{var e;v(!u||k?"":(e=u,n(3154)("./"+e).default))}),[u]),(0,a.useEffect)((()=>{if(!u)return;const e=b.find((e=>e.name===u));j(e?e.defaultValues:{})}),[g]),(0,c.jsx)(d.Provider,{value:[r,o],children:(0,c.jsxs)("div",{className:t+" flex flex-col w-full",children:[(0,c.jsxs)("div",{className:"flex flex-row justify-center",children:[(0,c.jsxs)("div",{className:"no-print flex flex-col gap-4 w-full",children:[(0,c.jsx)(i.m,{value:u,onChange:e=>m(e.value),options:[x,...b],optionLabel:"label",optionValue:"name",placeholder:"Select Template"}),k&&(0,c.jsxs)("span",{className:"p-float-label mt-3",children:[(0,c.jsx)(s.Z,{id:"custom-template-text-field",className:"w-full max-w-full",autoResize:!0,value:g,onChange:e=>v(e.target.value),rows:5}),(0,c.jsx)("label",{htmlFor:"custom-template-text-field",children:"Template"})]}),g&&(0,c.jsx)(f,{template:g,templateParameters:y,onParametersChange:e=>j(e)}),(0,c.jsx)(w,{template:g,templateParameters:y})]}),(0,c.jsx)(l.c,{className:"no-print",layout:"vertical"}),(0,c.jsx)(p,{className:"no-print w-full self-center",template:g,templateParameters:y})]}),(0,c.jsx)(l.c,{className:"no-print"}),(0,c.jsx)(h,{})]})})}},8902:function(e,t,n){"use strict";n.r(t),t.default='<div\n  style="\n    width: 6.8cm;\n    height: 9.3cm;\n\n    background-color: black;\n\n    outline-style: dashed;\n    outline-color: gray;\n    outline-width: thin;\n\n    padding: 2mm;\n\n    font-size: 12px;\n  "\n>\n  <div\n    style="\n    width: 100%;\n    height: 100%;\n\n    color: white;\n    text-align: center;\n\n    background-image: url(\'{{&Image_Source}}\');\n    background-position-y: -1cm;\n    background-position-x: center;\n    background-size: 6.4cm 6.4cm;\n    background-repeat: no-repeat;\n\n    display: grid;\n    grid-template-rows: [row1-start] 1.5em [row1-end] 3.8cm [third-line] 4.5cm [fourth-line] 0.5em [last-line]"\n  >\n    <div\n      style="display: flex; flex-direction: row; justify-content: space-between"\n    >\n      <div\n        style="\n          display: flex;\n          align-items: center;\n          padding: 0.25em;\n          background-color: black;\n          border-radius: 1mm;\n          border-top-left-radius: 0;\n          z-index: 1;\n        "\n      >\n        {{Title}}\n      </div>\n    </div>\n    <div></div>\n    <div\n      class="text-autosized-container"\n      style="\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin: auto;\n        border-radius: 2mm;\n        background-color: gray;\n      "\n    >\n      <span class="text-autosized">{{Description}}</span>\n    </div>\n    <div style="grid-row-start: 4; font-size: 0.5em">©2024 Forge of Cards</div>\n  </div>\n</div>\n'},8676:function(e,t,n){"use strict";n.r(t),t.default='<div style="\nwidth: 6.8cm;\nheight: 9.3cm;\n\nbackground-color: black;\n\noutline-style: dashed;\noutline-color: gray;\noutline-width: thin;\n\npadding: 2mm;\n\nfont-size: 12px;">\n    <div style="\n    width: 100%;\n    height: 100%;\n\n    color: white;\n    text-align: center;\n\n    background-image: url(\'{{&Image_Source}}\');\n    background-position-y: -1cm;\n    background-position-x: center;\n    background-size: 6.4cm 6.4cm;\n    background-repeat: no-repeat;\n\n    border-radius: 3mm;\n\n    display: grid;\n    grid-template-rows: [row1-start] 1.5em [row1-end] 3.8cm [third-line] auto [fourth-line] 0.5em [last-line]">\n        <div style="\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n\n        grid-row-start: 1;">\n            <div style="\n            display: flex;\n            align-items: center;\n            padding: 0.25em;\n            background-color: black;\n            border-radius: 1mm;\n            z-index: 1;">{{Title}}</div>\n            <div style="\n            display: flex;\n            align-items: center;\n            padding: 0.25em;\n            background-color: black;\n            border-radius: 1mm;\n            z-index: 1;">{{Level}}</div>\n        </div>\n        <div style="\n        grid-row-start: 3;\n        display: flex;\n        flex-direction: column;\n        align-items: center;">\n            <div style="\n            width: 100%;\n            display: grid;\n            grid-template-columns: 50% 50%;">\n                <div class="text-autosized-container" style="\n                display: flex;\n                align-items: center;\n                justify-content: left;\n                height: 1.5em;\n                background-color: black;\n                z-index: 1;\n                text-align: start;"><span class="text-autosized">{{Casting_Time}}</span></div>\n                <div class="text-autosized-container" style="\n                display: flex;\n                align-items: center;\n                justify-content: right;\n                height: 1.5em;\n                background-color: black;\n                z-index: 1;\n                text-align: end;"><span class="text-autosized">{{Range}}</span></div>\n                <div class="text-autosized-container" style="\n                display: flex;\n                align-items: center;\n                justify-content: left;\n                height: 1.5em;\n                background-color: black;\n                z-index: 1;\n                text-align: start;"><span class="text-autosized">{{Duration}}</span></div>\n                <div class="text-autosized-container" style="\n                display: flex;\n                align-items: center;\n                justify-content: right;\n                height: 1.5em;\n                background-color: black;\n                z-index: 1;\n                text-align: end;"><span class="text-autosized">{{Components}}</span></div>\n                <div class="text-autosized-container" style="\n                display: flex;\n                align-items: center;\n                justify-content: left;\n                height: 1.5em;\n                background-color: black;\n                z-index: 1;\n                text-align: start;"><span class="text-autosized">{{School}}</span></div>\n                <div class="text-autosized-container" style="\n                display: flex;\n                align-items: center;\n                justify-content: right;\n                height: 1.5em;\n                background-color: black;\n                z-index: 1;\n                text-align: end;"><span class="text-autosized">{{Save}}</span></div>\n            </div>\n            <div class="text-autosized-container" style="\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: 6.4cm;\n            height: 3cm;\n            margin: auto;\n            border-radius: 2mm;\n            background-color: gray;"><span class="text-autosized">{{Description}}</span></div>\n        </div>\n        <div style="\n        grid-row-start: 4;\n        font-size: 0.5em;">©2024 Forge of Cards</div>\n    </div>\n</div>'},3154:function(e,t,n){var a={"./basic-template.html":8902,"./dnd_spell_card_template.html":8676};function i(e){var t=l(e);return n(t)}function l(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=l,e.exports=i,i.id=3154}}]);